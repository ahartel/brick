\chapter{Do's and Dont's}
\section{Do's}
\begin{itemize}
    \item When creating the module hierarchy in your HDL code, or when you're chosing module names for your behavioral models, make sure that the module names of your behaviorals match the cell names of the analog macros that are eventually instantiated.
    \item Use a env/units/rundirs repository structure
 \begin{description}
    \item[env]
	\item[rundirs]
		is a directory containing at least a \tf{wscript} and a link to the waf binary. It defines one or more tasks.
		takes one or more input files of one or more units and modifies them
		according to the specification in the \tf{wscript}.
		A task is specified via a wscript and executed with waf.

		Example tasks:
		\begin{itemize}
			\item Abstract generation out of a full-custom layout 
			\item Synthesis of an RTL module
		\end{itemize}

		A task has to be able to fall back to local input files if an external repository is not present and its input files are therefore missing.

		A task may recurse into unit or rundir directories of the local repository or other external repositories.

	\item[units]
		can contain basically the following types of files:
		\begin{itemize}
			\item Virtuoso schematics and layouts
			\item Verilog or VHDL source code (for digital RTL implementation or as a behavioral replacement for an analog unit).
			\item constraints
			\item Abstracts of anlog units (consisting of lib files, lef files or GDSII files).
			\item Verilog or VHDL netlists generated with a synthesis tool out of RTL descriptions.
		\end{itemize}

		Every unit contains a file that specifies which files in this unit are either present as source or are generated by which rundir.
		Sources and generating rundirs can both be located in external repositories.
		The recursing rundir can then decide (upon existance of external repositories) whether to use a local file or rundir as an input or to generate its necessary inputs.
\end{description}
    \item Connect analog blocks in your top level \textit{SystemVerilog} code
        with signals of type \texttt{interconnect}.
    \item Make heavy use of structs and interfaces. This results in better
        readable code. And it avoids using the slicing operator too much.
\end{itemize}
\section{Dont's}
\begin{itemize}
    \item Don't instantiate arrays of AMS modules in pure verilog or
        SystemVerilog code, because otherwise \tf{ncelab} will tell you:
        \begin{lstbashplain}
        ncelab: *E,ILANAOI (...):
           Only pure digital array of instances are allowed in AMS.
        \end{lstbashplain}
\end{itemize}
